{"version":3,"file":"scheduler.js","sources":["src/scheduler.js"],"sourcesContent":["/**\n *\n * This file replaces the original scheduler object used by Timekit.io\n * A compilation step substitutes the original reference to a reference\n * to this object.\n *\n */\n\nfunction request(method, url, data) {\n  const config = { method };\n\n  if (method.toUpperCase() === 'POST') {\n    config.body = JSON.stringify(data);\n  }\n\n  return fetch(url, config)\n    .then((res) => res.json())\n    .then((json) => json);\n}\n\nconst urlPath = path => `${window.APIGLOBAL}${path}`;\n\nconst scheduler = {\n  configure() {},\n\n  setUser() {},\n\n  findTime(data) {\n    return request('POST', urlPath('/findtime'), data);\n  },\n\n  getUserTimezone(data) {\n    return request('GET', urlPath(`/users/timezone/?email=${data.email}`));\n  },\n\n  headers() {\n    return this;\n  },\n\n  createBooking(data) {\n    console.log('Creating booking with:');\n    console.dir(data);\n    return request('POST', urlPath('/bookings'), data);\n  },\n};\n\nmodule.exports = scheduler;\n"],"names":["request","method","url","data","config","toUpperCase","body","JSON","stringify","fetch","then","res","json","urlPath","window","APIGLOBAL","path","scheduler","email","log","dir"],"mappings":";;;;;;AAAA;;;;;;;;AAQA,SAASA,OAAT,CAAiBC,MAAjB,EAAyBC,GAAzB,EAA8BC,IAA9B,EAAoC;MAC5BC,SAAS,EAAEH,cAAF,EAAf;;MAEIA,OAAOI,WAAP,OAAyB,MAA7B,EAAqC;WAC5BC,IAAP,GAAcC,KAAKC,SAAL,CAAeL,IAAf,CAAd;;;SAGKM,MAAMP,GAAN,EAAWE,MAAX,EACJM,IADI,CACC,UAACC,GAAD;WAASA,IAAIC,IAAJ,EAAT;GADD,EAEJF,IAFI,CAEC,UAACE,IAAD;WAAUA,IAAV;GAFD,CAAP;;;AAKF,IAAMC,UAAU,SAAVA,OAAU;cAAWC,OAAOC,SAAlB,GAA8BC,IAA9B;CAAhB;;AAEA,IAAMC,YAAY;WAAA,uBACJ,EADI;SAAA,qBAGN,EAHM;UAAA,oBAKPd,IALO,EAKD;WACNH,QAAQ,MAAR,EAAgBa,QAAQ,WAAR,CAAhB,EAAsCV,IAAtC,CAAP;GANc;iBAAA,2BASAA,IATA,EASM;WACbH,QAAQ,KAAR,EAAea,oCAAkCV,KAAKe,KAAvC,CAAf,CAAP;GAVc;SAAA,qBAaN;WACD,IAAP;GAdc;eAAA,yBAiBFf,IAjBE,EAiBI;YACVgB,GAAR,CAAY,wBAAZ;YACQC,GAAR,CAAYjB,IAAZ;WACOH,QAAQ,MAAR,EAAgBa,QAAQ,WAAR,CAAhB,EAAsCV,IAAtC,CAAP;;CApBJ;;AAwBA,kBAAiBc,SAAjB;;;;"}